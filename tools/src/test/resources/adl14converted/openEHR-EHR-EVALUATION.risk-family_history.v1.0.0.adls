archetype (adl_version=2.0.6; rm_release=1.1.0; generated)
    openEHR-EHR-EVALUATION.risk-family_history.v1.0.0

specialize
    openEHR-EHR-EVALUATION.risk.v1

language
    original_language = <[ISO_639-1::en]>

description
    original_author = <
        ["name"] = <"Sam Heard">
        ["organisation"] = <"Ocean Informatics">
        ["email"] = <"sam.heard@oceaninformatics.com">
        ["date"] = <"23/04/2006">
    >
    lifecycle_state = <"Initial">
    details = <
        ["en"] = <
            language = <[ISO_639-1::en]>
            purpose = <"Record the assessed risk of having or developing a condition due to prevalence in relatives.">
            use = <"For recording information about the prevalence of the condition in relatives and quantifying risk to the subject of care.">
            misuse = <"Not for recording problems of individual relatives - use 'openEHR-EHR-EVALUATION.problem' and 'openEHR-EHR-EVALUATION.problem-diagnosis' and set the subject of data to the relative.">
        >
    >

definition
    EVALUATION[id1] matches {    -- Evaluation of risk of condition
        data matches {
            ITEM_TREE[id2] matches {
                items matches {
                    ELEMENT[id3] matches {    -- Index condition
                        value matches {
                            DV_TEXT[id9004] 
                        }
                    }
                    after [id3]
                    ELEMENT[id0.31] occurrences matches {0..1} matches {    -- Presence
                        value matches {
                            DV_BOOLEAN[id9005] matches {
                                value matches {True, False}
                            }
                        }
                    }
                    ELEMENT[id4.1] matches {    -- Assessed risk
                        value matches {
                            DV_CODED_TEXT[id9006] matches {
                                defining_code matches {[ac9000]}
                            }
                        }
                    }
                    CLUSTER[id0.2] matches {    -- Relative
                        items cardinality matches {1..*; unordered} matches {
                            ELEMENT[id0.30] occurrences matches {0..1} matches {    -- Relationship
                                value matches {
                                    DV_CODED_TEXT[id9007] matches {
                                        defining_code matches {[ac0.1]}    -- Relationship with subject of entry
                                    }
                                }
                            }
                            ELEMENT[id0.3] occurrences matches {0..1} matches {    -- Name
                                value matches {
                                    DV_TEXT[id9008] 
                                }
                            }
                            ELEMENT[id0.4] occurrences matches {0..1} matches {    -- Age at onset
                                value matches {
                                    DV_QUANTITY[id9009] matches {
                                        property matches {[at9000]}    -- Time
                                        [magnitude, units] matches {
                                            [{|0.0..200.0|}, {"a"}],
                                            [{|0.0..36.0|}, {"mo"}],
                                            [{|0.0..52.0|}, {"wk"}],
                                            [{|0.0..56.0|}, {"d"}]
                                        }
                                    }
                                }
                            }
                            ELEMENT[id0.27] occurrences matches {0..1} matches {    -- Date of onset
                                value matches {
                                    DV_DATE[id9010] matches {
                                        value
                                    }
                                }
                            }
                            ELEMENT[id0.5] occurrences matches {0..1} matches {    -- Age at death
                                value matches {
                                    DV_QUANTITY[id9011] matches {
                                        property matches {[at9000]}    -- Time
                                        magnitude matches {|0.0..200.0|}
                                        units matches {"a"}
                                    }
                                }
                            }
                            ELEMENT[id0.6] occurrences matches {0..1} matches {    -- Date of death
                                value matches {
                                    DV_DATE[id9012] matches {
                                        value
                                    }
                                }
                            }
                            ELEMENT[id0.7] occurrences matches {0..1} matches {    -- Index condition was cause of death
                                value matches {
                                    DV_BOOLEAN[id9013] matches {
                                        value matches {True, False}
                                    }
                                }
                            }
                            ELEMENT[id0.8] occurrences matches {0..1} matches {    -- Severity
                                value matches {
                                    DV_ORDINAL[id9014] matches {
                                        [value, symbol] matches {
                                            [{1}, {[at0.9]}],
                                            [{4}, {[at0.10]}],
                                            [{7}, {[at0.11]}]
                                        }
                                    }
                                }
                            }
                            ELEMENT[id0.28] occurrences matches {0..1} matches {    -- More specific condition
                                value matches {
                                    DV_TEXT[id9015] 
                                }
                            }
                            ELEMENT[id0.12] occurrences matches {0..1} matches {    -- Clinical description
                                value matches {
                                    DV_TEXT[id9016] 
                                }
                            }
                            ELEMENT[id0.13] occurrences matches {0..1} matches {    -- Genetic relative
                                value matches {
                                    DV_BOOLEAN[id9017] matches {
                                        value matches {True, False}
                                    }
                                }
                            }
                        }
                    }
                    CLUSTER[id0.14] matches {    -- Affected ratio
                        items cardinality matches {0..4} matches {
                            ELEMENT[id0.15] occurrences matches {0..1} matches {    -- Degree
                                value matches {
                                    DV_CODED_TEXT[id9018] matches {
                                        defining_code matches {[ac9002]}    -- Degree (synthesised)
                                    }
                                }
                            }
                            ELEMENT[id0.22] occurrences matches {0..1} matches {    -- Gender
                                value matches {
                                    DV_CODED_TEXT[id9019] matches {
                                        defining_code matches {[ac9003]}    -- Gender (synthesised)
                                    }
                                }
                            }
                            ELEMENT[id0.26] occurrences matches {0..1} matches {    -- Number unaffected
                                value matches {
                                    DV_COUNT[id9020] matches {
                                        magnitude matches {|0..100|}
                                    }
                                }
                            }
                            ELEMENT[id0.29] occurrences matches {1} matches {    -- Number affected
                                value matches {
                                    DV_COUNT[id9021] matches {
                                        magnitude matches {|0..100|}
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        protocol matches {
            ITEM_LIST[id11] matches {
                items matches {
                    ELEMENT[id12] matches {    -- Risk calculation
                        value matches {
                            DV_TEXT[id9022] 
                        }
                    }
                }
            }
        }
    }

terminology
    term_definitions = <
        ["en"] = <
            ["at0.1"] = <
                text = <"Affected relatives">
                description = <"The family members affected by the condition">
            >
            ["at0000.1"] = <
                text = <"Risk of condition based on family history">
                description = <"Evaluation to indicate that there is, or is not, a significant risk of this subject of care having, now or in the future, a condition due to prior occurrence in a family member.">
            >
            ["at0003"] = <
                text = <"Significance of risk">
                description = <"The likelihood that this person will develop this condition or suffer in this way in the future">
            >
            ["ac0000"] = <
                text = <"Relationship">
                description = <"The relationship of this relative to the subject">
            >
            ["at9000"] = <
                text = <"Time">
                description = <"Time">
            >
            ["ac9001"] = <
                text = <"Severity (synthesised)">
                description = <"The severity of the condition for this relative (synthesised)">
            >
            ["ac9002"] = <
                text = <"Degree (synthesised)">
                description = <"The proximity or line of the relatives (synthesised)">
            >
            ["ac9003"] = <
                text = <"Gender (synthesised)">
                description = <"The gender of the relatives included in the affected ratio (synthesised)">
            >
            ["id12"] = <
                text = <"Risk calculation">
                description = <"The means of calculating the risk">
            >
            ["at10"] = <
                text = <"Highly significant">
                description = <"The person is considered to be likely to develop the condition">
            >
            ["at9"] = <
                text = <"Significant">
                description = <"The person is considered to be more likely to develop the condition than the general population">
            >
            ["at8"] = <
                text = <"Minimal significance">
                description = <"The person may be of somewhat greater risk of developing the condition ">
            >
            ["at7"] = <
                text = <"Not significant">
                description = <"The person is not assessed at being at higher risk than the general population">
            >
            ["id4.1"] = <
                text = <"Assessed risk">
                description = <"The degree of risk conferred on the subject by the presence of this condition amongst relatives">
            >
            ["id3"] = <
                text = <"Index condition">
                description = <"The condition on which the risk assessment is focussed">
            >
            ["id1"] = <
                text = <"Evaluation of risk of condition">
                description = <"Evaluation to indicate that there is, or is not, a significant risk of this subject of care having, now or in the future, a condition.">
            >
            ["at0.9"] = <
                text = <"Mild">
                description = <"Little affect on lifestyle">
            >
            ["id0.8"] = <
                text = <"Severity">
                description = <"The severity of the condition for this relative">
            >
            ["id0.7"] = <
                text = <"Index condition was cause of death">
                description = <"Indication that the index was a significant factor in the death of this relative">
            >
            ["id0.6"] = <
                text = <"Date of death">
                description = <"The year or date of death">
            >
            ["id0.5"] = <
                text = <"Age at death">
                description = <"The age at which this relative died">
            >
            ["id0.4"] = <
                text = <"Age at onset">
                description = <"The age at which the condition was apparent">
            >
            ["id0.31"] = <
                text = <"Presence">
                description = <"Presence of condition in at least one related party">
            >
            ["id0.30"] = <
                text = <"Relationship">
                description = <"The relationship">
            >
            ["id0.3"] = <
                text = <"Name">
                description = <"Optional name of the person for future reference">
            >
            ["id0.29"] = <
                text = <"Number affected">
                description = <"The number affected by the index condition">
            >
            ["id0.28"] = <
                text = <"More specific condition">
                description = <"A coded entry which is more specific than the index condition">
            >
            ["id0.27"] = <
                text = <"Date of onset">
                description = <"Date of onset">
            >
            ["id0.26"] = <
                text = <"Number unaffected">
                description = <"The number of relatives in this group unaffected by the index condition">
            >
            ["at0.25"] = <
                text = <"Male and female">
                description = <"Male and female relatives">
            >
            ["at0.24"] = <
                text = <"Female">
                description = <"Female gender">
            >
            ["at0.23"] = <
                text = <"Male">
                description = <"Male gender">
            >
            ["id0.22"] = <
                text = <"Gender">
                description = <"The gender of the relatives included in the affected ratio">
            >
            ["at0.21"] = <
                text = <"Family">
                description = <"Entire family">
            >
            ["at0.20"] = <
                text = <"Paternal relatives">
                description = <"Related through father">
            >
            ["id0.2"] = <
                text = <"Relative">
                description = <"Details about the affected relative">
            >
            ["at0.19"] = <
                text = <"Maternal relatives">
                description = <"Related through mother">
            >
            ["at0.18"] = <
                text = <"Third degree relatives">
                description = <"Relatives with 12.5% genetic share, great grand parents, great aunts and uncles, first cousins, children of neices and nephews, great grand children">
            >
            ["at0.17"] = <
                text = <"Second degree relatives">
                description = <"Relatives with 25% genetic share - grand parent, aunts and uncles, nieces and nephews, grand children">
            >
            ["at0.16"] = <
                text = <"First degree relatives">
                description = <"Relatives with 50% genetic share - parent, sibling, child">
            >
            ["id0.15"] = <
                text = <"Degree">
                description = <"The proximity or line of the relatives">
            >
            ["id0.14"] = <
                text = <"Affected ratio">
                description = <"A ratio of the affected to non-affected relatives of a particular type">
            >
            ["id0.13"] = <
                text = <"Genetic relative">
                description = <"A genetic relative of the data subject - not an adoptive relative">
            >
            ["id0.12"] = <
                text = <"Clinical description">
                description = <"A clinical description of the affected relatives condition">
            >
            ["at0.11"] = <
                text = <"Severe">
                description = <"Major morbidity with significant social impact">
            >
            ["at0.10"] = <
                text = <"Moderate">
                description = <"Significant morbidity and reduced capability">
            >
            ["ac0.1"] = <
                text = <"Relationship with subject of entry">
                description = <"The relationship of the affected relative with the person of whom this is the family history">
            >
        >
    >
    term_bindings = <
        ["openehr"] = <
            ["at9000"] = <http://openehr.org/id/128>
        >
    >
    value_sets = <
        ["ac9002"] = <
            id = <"ac9002">
            members = <"at0.16", "at0.17", "at0.18", "at0.19", "at0.20", "at0.21">
        >
        ["ac9001"] = <
            id = <"ac9001">
            members = <"at0.9", "at0.10", "at0.11">
        >
        ["ac9003"] = <
            id = <"ac9003">
            members = <"at0.23", "at0.24", "at0.25">
        >
    >
