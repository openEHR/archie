archetype (adl_version=2.0.6; rm_release=1.1.0; generated; uid=bc96878f-bf8e-456e-b1d4-a7ed85117a61; build_uid=ac4d5a7d-89ca-4780-9477-54577096c510)
    openEHR-EHR-CLUSTER.conditional_medication_rules.v0.0.1-alpha

language
    original_language = <[ISO_639-1::en]>

description
    original_author = <
        ["name"] = <"Ian McNicoll">
        ["organisation"] = <"freshEHR Clinical Informatics Ltd.">
        ["email"] = <"ian@freshehr.com">
        ["date"] = <"2016-01-11">
    >
    original_namespace = <"org.openehr">
    original_publisher = <"openEHR Foundation">
    lifecycle_state = <"in_development">
    custodian_namespace = <"org.openehr">
    custodian_organisation = <"openEHR Foundation">
    licence = <"This work is licensed under the Creative Commons Attribution-ShareAlike 3.0 License. To view a copy of this license, visit http://creativecommons.org/licenses/by-sa/3.0/.">
    other_details = <
        ["MD5-CAM-1.0.1"] = <"210EE9A45C212800EEE2E904DFCEA37D">
    >
    details = <
        ["en"] = <
            language = <[ISO_639-1::en]>
            purpose = <"To record conditional factors which impact the dose amount or administration rate of a medication.">
            use = <"">
            misuse = <"">
            copyright = <"Â© openEHR Foundation">
        >
    >

definition
    CLUSTER[id1] matches {    -- Conditional medication instructions
        items cardinality matches {1..*; unordered} matches {
            CLUSTER[id6] matches {    -- Condition rule
                items cardinality matches {1..*; unordered} matches {
                    ELEMENT[id3] occurrences matches {0..1} matches {    -- Condition
                        value matches {
                            DV_QUANTITY[id9002] 
                            DV_INTERVAL<DV_QUANTITY>[id9003] matches {
                                upper matches {
                                    DV_QUANTITY[id9004] 
                                }
                                lower matches {
                                    DV_QUANTITY[id9005] 
                                }
                            }
                            DV_COUNT[id9006] 
                            DV_INTERVAL<DV_COUNT>[id9007] matches {
                                upper matches {
                                    DV_COUNT[id9008] 
                                }
                                lower matches {
                                    DV_COUNT[id9009] 
                                }
                            }
                            DV_PROPORTION[id9010] matches {
                                is_integral matches {False}
                            }
                            DV_TEXT[id9011] 
                            DV_BOOLEAN[id9012] matches {
                                value matches {True, False}
                            }
                        }
                    }
                    ELEMENT[id5] occurrences matches {0..1} matches {    -- Dose amount
                        value matches {
                            DV_QUANTITY[id9013] matches {
                                property matches {[at9000]}    -- Qualified real
                                magnitude matches {|>=0.0|}
                                units matches {"1"}
                            }
                        }
                    }
                    ELEMENT[id7] occurrences matches {0..1} matches {    -- Dose administration rate
                        value matches {
                            DV_QUANTITY[id9014] matches {
                                property matches {[at9001]}    -- Flow rate, volume
                                [magnitude, units] matches {
                                    [{|>=0.0|}, {"l/h"}],
                                    [{|>=0.0|}, {"ml/h"}],
                                    [{|>=0.0|}, {"ml/min"}],
                                    [{|>=0.0|}, {"ml/s"}]
                                }
                            }
                        }
                    }
                    ELEMENT[id8] matches {    -- Dosage formula
                        value matches {
                            DV_TEXT[id9015] 
                        }
                    }
                }
            }
        }
    }

terminology
    term_definitions = <
        ["en"] = <
            ["at9000"] = <
                text = <"Qualified real">
                description = <"Qualified real">
            >
            ["at9001"] = <
                text = <"Flow rate, volume">
                description = <"Flow rate, volume">
            >
            ["id8"] = <
                text = <"Dosage formula">
                description = <"The dosage formula used to calculate the dose amount or administration rate.">
            >
            ["id7"] = <
                text = <"Dose administration rate">
                description = <"The dose administration rate to be used if the condition applies.">
            >
            ["id6"] = <
                text = <"Condition rule">
                description = <"Details of the condition and associated dose amount or administration rate.">
            >
            ["id5"] = <
                text = <"Dose amount">
                description = <"The dose amount to be administered if the condition applies.">
            >
            ["id3"] = <
                text = <"Condition">
                description = <"The value which is required for the associated dose amount or admistration to be applied.">
            >
            ["id1"] = <
                text = <"Conditional medication instructions">
                description = <"Details of conditions on which determine the dose amount or administration rate.">
            >
        >
    >
    term_bindings = <
        ["openehr"] = <
            ["at9000"] = <http://openehr.org/id/380>
            ["at9001"] = <http://openehr.org/id/126>
        >
    >
