archetype (adl_version=2.0.6; rm_release=1.1.0; generated; uid=b40ad367-5aeb-4689-93bd-576986ede5cc; build_uid=66fa1b3d-9fd2-4079-ab97-aa25705c5446)
    openEHR-EHR-CLUSTER.timing_repetition.v0.0.1-alpha

language
    original_language = <[ISO_639-1::en]>

description
    original_author = <
        ["name"] = <"Ian McNicoll">
        ["organisation"] = <"freshEHR Clinical Informatics Ltd.">
        ["email"] = <"ian@freshehr.com">
        ["date"] = <"2015-09-11">
    >
    original_namespace = <"org.openehr">
    original_publisher = <"openEHR Foundation">
    other_contributors = <"Silje Ljosland Bakke, National ICT Norway, Norway (openEHR Editor)", "Heather Leslie, Ocean Informatics, Australia (openEHR Editor)", "Ian McNicoll, freshEHR Clinical Informatics, United Kingdom (openEHR Editor)", "John Tore Valand, Helse Bergen, Norway (openEHR Editor)">
    lifecycle_state = <"in_development">
    custodian_namespace = <"org.openehr">
    custodian_organisation = <"openEHR Foundation">
    licence = <"This work is licensed under the Creative Commons Attribution-ShareAlike 3.0 License. To view a copy of this license, visit http://creativecommons.org/licenses/by-sa/3.0/.">
    other_details = <
        ["MD5-CAM-1.0.1"] = <"55B0B08763D142BC502C82C36B0ED959">
    >
    details = <
        ["en"] = <
            language = <[ISO_639-1::en]>
            purpose = <"To record details of scheduled activities over periods longer than a single day.">
            use = <"">
            misuse = <"">
            copyright = <"Â© openEHR Foundation">
        >
    >

definition
    CLUSTER[id1] matches {    -- Timing - repetition
        items cardinality matches {1..*; unordered} matches {
            ELEMENT[id3] occurrences matches {0..1} matches {    -- Repetition interval
                value matches {
                    DV_DURATION[id9000] matches {
                        value matches {PYMWD/|>=P0D|}
                    }
                }
            }
            ELEMENT[id2] matches {    -- Specific date
                value matches {
                    DV_DATE_TIME[id9001] 
                }
            }
            ELEMENT[id4] matches {    -- Specific day of week
                value matches {
                    DV_COUNT[id9002] matches {
                        magnitude matches {|0..6|}
                    }
                }
            }
            ELEMENT[id5] matches {    -- Specific day of month
                value matches {
                    DV_COUNT[id9003] matches {
                        magnitude matches {|1..31|}
                    }
                }
            }
            CLUSTER[id7] matches {    -- Specific event
                items cardinality matches {1..*; unordered} matches {
                    ELEMENT[id6] occurrences matches {0..1} matches {    -- Event name
                        value matches {
                            DV_TEXT[id9004] 
                        }
                    }
                    ELEMENT[id10] occurrences matches {0..1} matches {    -- Start interval
                        value matches {
                            DV_DURATION[id9005] matches {
                                value
                            }
                        }
                    }
                }
            }
            CLUSTER[id11] matches {    -- On /off cycle
                items cardinality matches {1..*; unordered} matches {
                    ELEMENT[id12] occurrences matches {0..1} matches {    -- On
                        value matches {
                            DV_DURATION[id9006] matches {
                                value matches {PYMWD/|>=P0D|}
                            }
                        }
                    }
                    ELEMENT[id13] occurrences matches {0..1} matches {    -- Off
                        value matches {
                            DV_DURATION[id9007] matches {
                                value matches {PYWD/|>=P0D|}
                            }
                        }
                    }
                    ELEMENT[id14] occurrences matches {0..1} matches {    -- Repetitions
                        value matches {
                            DV_COUNT[id9008] matches {
                                magnitude matches {|>=0|}
                            }
                        }
                    }
                }
            }
        }
    }

terminology
    term_definitions = <
        ["en"] = <
            ["id14"] = <
                text = <"Repetitions">
                description = <"The number of repetitions of the on/off cycle.">
            >
            ["id13"] = <
                text = <"Off">
                description = <"The period of time for which the activity should NOT take place.">
            >
            ["id12"] = <
                text = <"On">
                description = <"The period of time for which the activity should take place.">
            >
            ["id11"] = <
                text = <"On /off cycle">
                description = <"A cycle of activity where an on-off pattern is required.">
            >
            ["id10"] = <
                text = <"Start interval">
                description = <"The period of time before or after the named event when the activity should take place. Negative durations can be used to signifify that the activity should be taken before a known event.">
            >
            ["id7"] = <
                text = <"Specific event">
                description = <"The activity should take place in relation to a specific named event.">
            >
            ["id6"] = <
                text = <"Event name">
                description = <"The name of the event that triggers the activity to take place.">
            >
            ["id5"] = <
                text = <"Specific day of month">
                description = <"The activity should take place on a specific day of the month.">
            >
            ["id4"] = <
                text = <"Specific day of week">
                description = <"The activity should take place on a specific day of the week, with 0 representing Sunday.">
            >
            ["id3"] = <
                text = <"Repetition interval">
                description = <"The interval between repetitions of the activity.">
            >
            ["id2"] = <
                text = <"Specific date">
                description = <"The activity should take place on a specific date.">
            >
            ["id1"] = <
                text = <"Timing - repetition">
                description = <"Details of timing schedules repeating over periods longer than a single day.">
            >
        >
    >
